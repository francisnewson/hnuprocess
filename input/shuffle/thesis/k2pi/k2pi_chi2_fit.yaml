scaling:
    - scaling_method:
        strategy: m2
        name: mc_pos
        peakname: k2pi

        channels:
            halo_channels: [ p6.data.km.q11t.v2.pos  ]
            data_channels: [ p5.data.nhod.v2.pos ]
            peak_channels: [ p5.k2pig.v2.pos ]

        halo: { strategy: dummy }

        mc:
            strategy: m2
            input_file: tdata/k2pi/all.k2pi.root
            plot_path: fit_eop_90/lkr_dch_cmp/hdm2
            #plot_path: no_fit_raw_plots/hm2pip_lkr

            min_mass_halo: -0.03
            max_mass_halo: -0.025
            min_mass_peak: -0.01
            max_mass_peak:  0.01
            #min_mass_peak:  0.015
            #max_mass_peak:  0.024

    - scaling_method:
        strategy: m2
        name: mc_neg
        peakname: k2pi

        channels:
            halo_channels: [ p6.data.km.q11t.v2.neg ]
            data_channels: [ p5.data.nhod.v2.neg ]
            peak_channels: [ p5.k2pig.v2.neg ]

        halo: { strategy: dummy }

        mc:
            strategy: m2
            input_file: tdata/k2pi/all.k2pi.root
            plot_path: fit_eop_90/lkr_dch_cmp/hdm2
            #plot_path: no_fit_raw_plots/hm2pip_lkr

            min_mass_halo: -0.03
            max_mass_halo: -0.025
            min_mass_peak: -0.01
            max_mass_peak:  0.01
            #min_mass_peak:  0.015
            #max_mass_peak:  0.024

weights:
    fid_file: use_root
    root_file: "tdata/extractfit/all.extract.root"
    pre : ""
    post: "sample_burst_count/bursts"
    branch:  "weight"

output:
    input_file: tdata/k2pi/all.k2pi.root

    plots:
        - path: fit_eop_90/hdm2_pi0
          name: fit_eop_90_dm2_pi0_rebin
          rebin: 40

        - path: fit_eop_90/scatter_b/hdm2_pi0
          name: fit_eop_90_dm2_pi0_rebin_b
          rebin: 40

        - path: fit_eop_90/hdm2_pi0
          name: fit_eop_90_dm2_pi0
          rebin: 40

        - path: fit_eop_90/scatter_b/hdm2_pi0
          name: fit_eop_90_pi0_b
          rebin: 40 

        - path: fit_eop_90/scatter_b_nop/hdm2_pi0
          name: fit_eop_90_pi0_b_nop
          rebin: 40 

        - path: fit_eop_90/scatter_b_noxy/hdm2_pi0
          name: fit_eop_90_pi0_b_noxy
          rebin: 40 

        - path: fit_eop_90/scatter_b_morexy/hdm2_pi0
          name: fit_eop_90_pi0_b_morexy
          rebin: 40 

        - path: fit_eop_90/scatter_b_earlyxy/hdm2_pi0
          name: fit_eop_90_pi0_b_earlyxy
          rebin: 40 

        - path: fit_eop_90_no_cda/hcda
          name: fit_eop_90_cda
          rebin: 10

        - path: fit_eop_90_no_cda/scatter_b/hcda
          name: fit_eop_90_cda_b
          rebin: 10

        - path: fit_eop_90_no_cda/scatter_b_nop/hcda
          name: fit_eop_90_cda_b_nop
          rebin: 10

        - path: fit_eop_90_no_cda/scatter_b_morexy/hcda
          name: fit_eop_90_cda_morexy
          rebin: 10

        - path: fit_eop_90_no_cda/scatter_b_earlyxy/hcda
          name: fit_eop_90_cda_earlyxy
          rebin: 10

        - path: fit_eop_90/lkr_dch_cmp/hdm2
          name: fit_eop_90_dm2_lkr_pip
          rebin: 10

        - path: fit_eop_90/lkr_dch_cmp/hdpop_
          name: fit_eop_90_dm2_lkr_dpop
          rebin: 5

        - path: fit_eop_90/scatter_b/lkr_dch_cmp/hdpop_
          name: fit_eop_90_dm2_lkr_dpop_scatter_b
          rebin: 5

        - path: fit_eop_90/lkr_dch_cmp/hdtx
          name: fit_eop_90_dm2_lkr_dtx
          rebin: 1

        - path: fit_eop_90/lkr_dch_cmp/hdtx
          name: fit_eop_90_dm2_lkr_dtx_rebin
          rebin: 5

        - path: fit_eop_90/scatter_b/lkr_dch_cmp/hdtx
          name: fit_eop_90_dm2_lkr_dtx_scatter_b
          rebin: 1

        - path: fit_eop_90/lkr_dch_cmp/hdty
          name: fit_eop_90_dm2_lkr_dty
          rebin: 1

        - path: fit_eop_90/lkr_dch_cmp/hdty
          name: fit_eop_90_dm2_lkr_dty_rebin
          rebin: 5

        - path: fit_eop_90/hpt_
          name: fit_eop_90_pt_rebin
          rebin: 40

        - path: fit_eop_90/hpt_
          name: fit_eop_90_pt
          rebin: 10 

        - path: fit_eop_90/scatter_b/hpt_
          name: fit_eop_90_pt_b
          rebin: 10 

        - path: fit_eop_90/scatter_b_nop/hpt_
          name: fit_eop_90_pt_b_nop
          rebin: 10 

        - path: fit_eop_90/scatter_b_noxy/hpt_
          name: fit_eop_90_pt_b_noxy
          rebin: 10 

        - path: fit_eop_90/scatter_b_morexy/hpt_
          name: fit_eop_90_pt_b_morexy
          rebin: 10 

        - path: fit_eop_90/scatter_b_earlyxy/hpt_
          name: fit_eop_90_pt_b_earlyxy
          rebin: 10 

        - path: no_fit_fit_plots/hchi2
          name: no_fit_chi2
          rebin: 40

        - path: no_fit_raw_plots/hm2pip_lkr
          name: raw_m2pip_lkr
          rebin: 1

        - path: no_fit_fit_plots/heop
          name: no_fit_eop
          rebin: 2

    data_plot:
        channels:
            - p5.data.nhod.v2.pos
            - p5.data.nhod.v2.neg
        do_blind: false

    stack:
        - item:
            name: km3_pos
            scaling: mc_pos
            type: km3
            fid_weight: p5.km3.v2.pos
            channels:
                - p5.km3.v2.pos

        - item:
            name: km3_neg
            scaling: mc_neg
            type: km3
            fid_weight: p5.km3.v2.neg
            channels:
                - p5.km3.v2.neg

        - item:
            name: k3pi0_pos
            scaling: mc_pos
            fid_weight: p5.k3pi0.v2.pos
            type: k3pi0
            channels:
                - p5.k3pi0.v2.pos

        - item:
            name: k3pi0_neg
            scaling: mc_neg
            fid_weight: p5.k3pi0.v2.neg
            type: k3pi0
            channels:
                - p5.k3pi0.v2.neg

        - item:
            name: ke3_pos
            scaling: mc_pos
            type: ke3
            fid_weight: p5.ke3.v2.pos
            channels:
                - p5.ke3.v2.pos

        - item:
            name: ke3_neg
            scaling: mc_neg
            type: ke3
            fid_weight: p5.ke3.v2.neg
            channels:
                - p5.ke3.v2.neg


        - item:
            name: k3pi_pos
            scaling: mc_pos
            fid_weight: p5.k3pi.v2.pos
            type: k3pi
            channels:
                - p5.k3pi.v2.pos

        - item:
            name: k3pi_neg
            scaling: mc_neg
            fid_weight: p5.k3pi.v2.neg
            type: k3pi
            channels:
                - p5.k3pi.v2.neg


        - item:
            name: km2_pos
            scaling: mc_pos
            fid_weight: p5.km2.v2.pos
            type: km2
            channels:
                - p5.km2.v2.pos

        - item:
            name: km2_neg
            scaling: mc_neg
            fid_weight: p5.km2.v2.neg
            type: km2
            channels:
                - p5.km2.v2.neg

        - item:
            name: k2pig_pos
            scaling: mc_pos
            type: k2pi
            fid_weight: p5.k2pig.v2.pos
            channels:
                - p5.k2pig.v2.pos

        - item:
            name: k2pig_neg
            scaling: mc_neg
            type: k2pi
            fid_weight: p5.k2pig.v2.neg
            channels:
                - p5.k2pig.v2.neg

